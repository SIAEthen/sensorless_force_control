# %% stonefish 1.6 

# ^Cheader: 
#   seq: 1290189
#   stamp: 
#     secs: 1770394543
#     nsecs: 218872786
#   frame_id: "girona1000"
# setpoint: [104.71, 0.0, 0.0, 0.0, 0.0, 0.0]
# rpm: [-999.9068455569487, 0.0, 0.0, 0.0, 0.0, 0.0]
# thrust: [-119.2059321764466, -0.0, -0.0, -0.0, -0.0, -0.0]
# torque: [2.235111228308374, 0.0, 0.0, 0.0, 0.0, 0.0]
# ---
# setpoint 0.5
# ^Cheader: 
#   seq: 1303412
#   stamp: 
#     secs: 1770394569
#     nsecs: 664872885
#   frame_id: "girona1000"
# setpoint: [52.355, 0.0, 0.0, 0.0, 0.0, 0.0]
# rpm: [-499.9554179648734, 0.0, 0.0, 0.0, 0.0, 0.0]
# thrust: [-31.20523911487649, -0.0, -0.0, -0.0, -0.0, -0.0]
# torque: [0.5850982334039342, 0.0, 0.0, 0.0, 0.0, 0.0]
# ---
max_setpoint = 104.71
max_rpm = 1000.0
KT = 0.48
KQ = 0.05
D = 0.18
rho = 1000.0
# case1
s1 = 0.5
rpm = s1*max_rpm
n = rpm/60

c1 = KT*rho*D**4
F = c1*n*abs(n)

Kq0 = 0.05
T = Kq0 * rho *n*abs(n) * D**5
print(F,T)

# setpoint: [-24.94546594177831, -13.252550080232211, 6.7465601600669896, 11.765777634041111, -48.78708129154611, -48.78708129154611]
# rpm: [236.4240287246747, 126.72370903250798, -65.3446102510056, -111.64566972889494, 465.8889477263735, 465.8889783873584]
# thrust: [7.766498320615774, 2.23739605510046, -0.5849340850074704, -1.7302797069454745, 30.387758941866085, 30.388781210356445]
# torque: [-0.1456218435115458, -0.04195117603313363, 0.010967514093890072, 0.03244274450522765, -0.5697704801599892, -0.5697896476941833]
# ---
# sia@sia-P

s2 = 1/max_setpoint * (-48.78708129154611)
rpm = s2*max_rpm
n = rpm/60

c1 = KT*rho*D**4
F = c1*n*abs(n)

T = Kq0 * rho *n*abs(n) * D**5
print(s2,rpm,F,T) #  30.388781210356445]