#!/usr/bin/env python
PACKAGE = "sensorless_force_control"

from dynamic_reconfigure.parameter_generator_catkin import *

gen = ParameterGenerator()

# Translational + rotational channels: [x, y, z, rx, ry, rz]
gen.add("mass_1", double_t, 0, "Mass x", 10.0, 0.1, 100.0)
gen.add("mass_2", double_t, 0, "Mass y", 10.0, 0.1, 100.0)
gen.add("mass_3", double_t, 0, "Mass z", 10.0, 0.1, 100.0)
gen.add("mass_4", double_t, 0, "Mass rx", 10.0, 0.1, 100.0)
gen.add("mass_5", double_t, 0, "Mass ry", 10.0, 0.1, 100.0)
gen.add("mass_6", double_t, 0, "Mass rz", 10.0, 0.1, 100.0)

gen.add("damping_1", double_t, 0, "Damping x", 20.0, 1.0, 200.0)
gen.add("damping_2", double_t, 0, "Damping y", 20.0, 1.0, 200.0)
gen.add("damping_3", double_t, 0, "Damping z", 20.0, 1.0, 200.0)
gen.add("damping_4", double_t, 0, "Damping rx", 20.0, 1.0, 200.0)
gen.add("damping_5", double_t, 0, "Damping ry", 20.0, 1.0, 200.0)
gen.add("damping_6", double_t, 0, "Damping rz", 20.0, 1.0, 200.0)

gen.add("stiffness_1", double_t, 0, "Stiffness x", 50.0, 1.0, 500.0)
gen.add("stiffness_2", double_t, 0, "Stiffness y", 50.0, 1.0, 500.0)
gen.add("stiffness_3", double_t, 0, "Stiffness z", 50.0, 1.0, 500.0)
gen.add("stiffness_4", double_t, 0, "Stiffness rx", 50.0, 1.0, 500.0)
gen.add("stiffness_5", double_t, 0, "Stiffness ry", 50.0, 1.0, 500.0)
gen.add("stiffness_6", double_t, 0, "Stiffness rz", 50.0, 1.0, 500.0)

# STSMC gains (6 channels)
gen.add("stsmc_k1_1", double_t, 0, "STSMC k1 x", 200.0, 0.0, 500.0)
gen.add("stsmc_k1_2", double_t, 0, "STSMC k1 y", 200.0, 0.0, 500.0)
gen.add("stsmc_k1_3", double_t, 0, "STSMC k1 z", 200.0, 0.0, 500.0)
gen.add("stsmc_k1_4", double_t, 0, "STSMC k1 rx", 200.0, 0.0, 500.0)
gen.add("stsmc_k1_5", double_t, 0, "STSMC k1 ry", 200.0, 0.0, 500.0)
gen.add("stsmc_k1_6", double_t, 0, "STSMC k1 rz", 200.0, 0.0, 500.0)

gen.add("stsmc_k2_1", double_t, 0, "STSMC k2 x", 50.0, 0.0, 200.0)
gen.add("stsmc_k2_2", double_t, 0, "STSMC k2 y", 50.0, 0.0, 200.0)
gen.add("stsmc_k2_3", double_t, 0, "STSMC k2 z", 50.0, 0.0, 200.0)
gen.add("stsmc_k2_4", double_t, 0, "STSMC k2 rx", 50.0, 0.0, 200.0)
gen.add("stsmc_k2_5", double_t, 0, "STSMC k2 ry", 50.0, 0.0, 200.0)
gen.add("stsmc_k2_6", double_t, 0, "STSMC k2 rz", 50.0, 0.0, 200.0)

gen.add("stsmc_lambda_1", double_t, 0, "STSMC lambda x", 10.0, 0.0, 50.0)
gen.add("stsmc_lambda_2", double_t, 0, "STSMC lambda y", 10.0, 0.0, 50.0)
gen.add("stsmc_lambda_3", double_t, 0, "STSMC lambda z", 10.0, 0.0, 50.0)
gen.add("stsmc_lambda_4", double_t, 0, "STSMC lambda rx", 10.0, 0.0, 50.0)
gen.add("stsmc_lambda_5", double_t, 0, "STSMC lambda ry", 10.0, 0.0, 50.0)
gen.add("stsmc_lambda_6", double_t, 0, "STSMC lambda rz", 10.0, 0.0, 50.0)

gen.add("stsmc_eps_1", double_t, 0, "STSMC epsilon x", 5.0, 0.0, 20.0)
gen.add("stsmc_eps_2", double_t, 0, "STSMC epsilon y", 5.0, 0.0, 20.0)
gen.add("stsmc_eps_3", double_t, 0, "STSMC epsilon z", 5.0, 0.0, 20.0)
gen.add("stsmc_eps_4", double_t, 0, "STSMC epsilon rx", 5.0, 0.0, 20.0)
gen.add("stsmc_eps_5", double_t, 0, "STSMC epsilon ry", 5.0, 0.0, 20.0)
gen.add("stsmc_eps_6", double_t, 0, "STSMC epsilon rz", 5.0, 0.0, 20.0)

# Kinematic-task parameters
gen.add("jointlimit_rho", double_t, 0, "Joint limit rho", 0.2, 0.0, 1.0)
gen.add("jointlimit_ds", double_t, 0, "Joint limit ds", 0.2, 0.0, 1.0)
gen.add("jointlimit_gain", double_t, 0, "Joint limit gain", 0.1, 0.0, 10.0)

gen.add("ref_rpy_1", double_t, 0, "Ref roll", 0.0, -3.2, 3.2)
gen.add("ref_rpy_2", double_t, 0, "Ref pitch", 0.0, -3.2, 3.2)
gen.add("ref_rpy_3", double_t, 0, "Ref yaw", 1.5, -3.2, 3.2)

gen.add("gain_rpy_1", double_t, 0, "Gain roll", 0.0, 0.0, 50.0)
gen.add("gain_rpy_2", double_t, 0, "Gain pitch", 1.0, 0.0, 50.0)
gen.add("gain_rpy_3", double_t, 0, "Gain yaw", 2.0, 0.0, 50.0)

gen.add("gain_ee_1", double_t, 0, "EE gain x", 1.0, 0.0, 20.0)
gen.add("gain_ee_2", double_t, 0, "EE gain y", 1.0, 0.0, 20.0)
gen.add("gain_ee_3", double_t, 0, "EE gain z", 1.0, 0.0, 20.0)
gen.add("gain_ee_4", double_t, 0, "EE gain rx", 1.0, 0.0, 20.0)
gen.add("gain_ee_5", double_t, 0, "EE gain ry", 1.0, 0.0, 20.0)
gen.add("gain_ee_6", double_t, 0, "EE gain rz", 1.0, 0.0, 20.0)

gen.add("nominal_config_1", double_t, 0, "Nominal q1", 0.0, -3.2, 3.2)
gen.add("nominal_config_2", double_t, 0, "Nominal q2", 0.0, -3.2, 3.2)
gen.add("nominal_config_3", double_t, 0, "Nominal q3", 0.0, -3.2, 3.2)
gen.add("nominal_config_4", double_t, 0, "Nominal q4", 0.0, -3.2, 3.2)
gen.add("nominal_config_5", double_t, 0, "Nominal q5", 0.0, -3.2, 3.2)
gen.add("nominal_config_6", double_t, 0, "Nominal q6", 1.0, -3.2, 3.2)

gen.add("allocator_damping", double_t, 0, "Allocator damping", 0.0001, 1e-6, 1e-3)
gen.add("allocator_offset", double_t, 0, "Allocator offset", 0.0,0.0, 100.0)
gen.add("linear_acc_cutoff_hz", double_t, 0, "Linear acceleration observer cutoff [Hz]", 10.0, 0.1, 200.0)
gen.add("wrench_filter_cutoff_hz", double_t, 0, "Wrench low-pass filter cutoff [Hz]", 5.0, 0.1, 200.0)

# Contact wrench observer parameters
gen.add("wrench_observer_mass", double_t, 0, "Wrench observer mass", 153.121, 1.0, 1000.0)
gen.add("wrench_observer_inertia_1", double_t, 0, "Wrench observer inertia Ix", 94.660, 0.01, 1000.0)
gen.add("wrench_observer_inertia_2", double_t, 0, "Wrench observer inertia Iy", 103.801, 0.01, 1000.0)
gen.add("wrench_observer_inertia_3", double_t, 0, "Wrench observer inertia Iz", 147.540, 0.01, 1000.0)
gen.add("wrench_observer_k1_1", double_t, 0, "Wrench observer K1 x", 1.0, 0.0, 200.0)
gen.add("wrench_observer_k1_2", double_t, 0, "Wrench observer K1 y", 1.0, 0.0, 200.0)
gen.add("wrench_observer_k1_3", double_t, 0, "Wrench observer K1 z", 1.0, 0.0, 200.0)
gen.add("wrench_observer_k2_1", double_t, 0, "Wrench observer K2 x", 1.0, 0.0, 200.0)
gen.add("wrench_observer_k2_2", double_t, 0, "Wrench observer K2 y", 1.0, 0.0, 200.0)
gen.add("wrench_observer_k2_3", double_t, 0, "Wrench observer K2 z", 1.0, 0.0, 200.0)

# Runtime enable switches
gen.add("enable_thruster_command", bool_t, 0, "Send command to thrusters", False)
gen.add("enable_arm_command", bool_t, 0, "Send command to manipulator arm", False)
gen.add("enable_logging", bool_t, 0, "Enable CSV logging", False)
gen.add("enable_jointlimits_task", bool_t, 0, "Enable joint-limits task", True)
gen.add("enable_sigma_rpy_task", bool_t, 0, "Enable sigma-rpy task", True)
gen.add("enable_ee_task", bool_t, 0, "Enable end-effector task", True)
gen.add("enable_nominalconfiguration_task", bool_t, 0, "Enable nominal-configuration task", False)

exit(gen.generate(PACKAGE, "sensorless_force_control", "Admittance"))
